{"version":3,"sources":["webpack:///./src/components/Wallet.vue?f776","webpack:///./src/views/Wallet.vue?31ad","webpack:///./src/components/Wallet.vue?f30a","webpack:///src/components/Wallet.vue","webpack:///./src/components/Wallet.vue?f042","webpack:///./src/components/Wallet.vue?8661","webpack:///src/views/Wallet.vue","webpack:///./src/views/Wallet.vue?13dc","webpack:///./src/views/Wallet.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticRenderFns","attrs","on","login","_v","_s","account","name","address","toOne","balance","model","value","callback","$$v","transferTo","expression","transferRAW","staticStyle","slot","unit","transfer","delegate","undelegate","transferAmount","data","methods","amount","hmy","utils","hexToNumber","watch","computed","toWei","fromWei","component","components","Wallet"],"mappings":"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","file":"js/chunk-c89970e8.665f0e8f.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Wallet.vue?vue&type=style&index=0&id=6312f052&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Wallet.vue?vue&type=style&index=0&id=6312f052&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('Wallet')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Layout',{staticClass:\"layout\"},[_c('Content',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.login}},[_vm._v(\"login\")]),_c('div',[_c('h3',[_vm._v(\"name: \"+_vm._s(_vm.account.name))]),_c('h3',[_vm._v(\"address: \"+_vm._s(_vm.account.address))]),_c('h3',{attrs:{\"title\":_vm.toOne(_vm.account.balance, 0)}},[_vm._v(\"balance: \"+_vm._s(_vm.toOne(_vm.account.balance, 18))+\" ONE\")])]),_c('div',[_c('label',[_vm._v(\"to:\")]),_c('Input',{attrs:{\"placeholder\":\"address\"},model:{value:(_vm.transferTo),callback:function ($$v) {_vm.transferTo=$$v},expression:\"transferTo\"}}),_c('br'),_c('label',[_vm._v(\"amount:\")]),_c('Input',{attrs:{\"placeholder\":\"amount\"},model:{value:(_vm.transferRAW),callback:function ($$v) {_vm.transferRAW=$$v},expression:\"transferRAW\"}},[_c('Select',{staticStyle:{\"width\":\"70px\"},attrs:{\"slot\":\"append\"},slot:\"append\",model:{value:(_vm.unit),callback:function ($$v) {_vm.unit=$$v},expression:\"unit\"}},[_c('Option',{attrs:{\"value\":\"one\"}},[_vm._v(\"ONE\")]),_c('Option',{attrs:{\"value\":\"wei\"}},[_vm._v(\"wei\")])],1)],1),_c('br'),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.transfer}},[_vm._v(\"transfer\")]),_vm._v(\"| \"),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.delegate}},[_vm._v(\"delegate\")]),_vm._v(\"| \"),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.undelegate}},[_vm._v(\"undelegate\")]),_c('br'),_vm._v(\" \"+_vm._s(_vm.transferAmount)+\" wei \")],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <Layout class=\"layout\">\n      <Content>\n        <Button @click=\"login\" type=\"primary\">login</Button>\n        <div>\n          <h3>name: {{ account.name }}</h3>\n          <h3>address: {{ account.address }}</h3>\n          <h3 v-bind:title=\"toOne(account.balance, 0)\">balance: {{ toOne(account.balance, 18) }} ONE</h3>\n        </div>\n        <div>\n          <label>to:</label>\n          <Input v-model=\"transferTo\" placeholder=\"address\" />\n          <br />\n          <label>amount:</label>\n          <Input v-model=\"transferRAW\" placeholder=\"amount\">\n            <Select v-model=\"unit\" slot=\"append\" style=\"width: 70px\">\n              <Option value=\"one\">ONE</Option>\n              <Option value=\"wei\">wei</Option>\n            </Select>\n          </Input>\n          <br />\n          <Button type=\"primary\" @click=\"transfer\">transfer</Button>|\n          <Button type=\"primary\" @click=\"delegate\">delegate</Button>|\n          <Button type=\"primary\" @click=\"undelegate\">undelegate</Button>\n          <br />\n          {{ transferAmount }} wei\n        </div>\n      </Content>\n    </Layout>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Wallet\",\n  data: function() {\n    return {\n      account: {},\n      transferTo: \"\",\n      transferRAW: \"\",\n      unit: \"wei\"\n    };\n  },\n  methods: {\n    login: async function() {\n      if (!window.harmony) alert(\"please install mathwallet!\");\n      if (this.account.address) {\n        await window.harmony.forgetIdentity();\n        this.account = {};\n      }\n      this.account = await window.harmony.getAccount();\n      const hmy = this.$root.hmy.hmy;\n      let balance = await hmy.blockchain.getBalance(this.account);\n      this.$set(this.account, \"balance\", balance.result);\n    },\n    toOne: function(amount, unit) {\n      if (!amount) return \"-\";\n      const hmy = this.$root.hmy.hmy;\n      if (unit == 0) return hmy.utils.hexToNumber(amount);\n      return hmy.utils.hexToNumber(amount) / 10 ** unit;\n    },\n    transfer: async function() {\n      const hmy = this.$root.hmy;\n      let tx = hmy.transfer(\n        this.account.address,\n        this.transferTo,\n        this.transferAmount\n      );\n      await window.harmony.signTransaction(tx);\n      tx.sendTransaction();\n    },\n    async delegate() {\n      const hmy = this.$root.hmy;\n      let tx = hmy.delegate(\n        this.account.address,\n        this.transferTo,\n        this.transferAmount\n      );\n      await window.harmony.signTransaction(tx);\n      //tx.sendTransaction();\n    },\n    async undelegate() {\n      const hmy = this.$root.hmy;\n      let tx = hmy.undelegate(\n        this.account.address,\n        this.transferTo,\n        this.transferAmount\n      );\n      await window.harmony.signTransaction(tx);\n      //tx.sendTransaction();\n    }\n  },\n  watch: {\n    /*\n    transferRAW: function() {\n      try {\n        const hmy = this.$root.hmy.hmy;\n        this.transferAmount = hmy.utils.toWei(this.transferRAW, \"one\");\n      } catch {\n        this.transferAmount = 0;\n      }\n    }*/\n  },\n  computed: {\n    transferAmount: function() {\n      try {\n        if (this.transferRAW == null) return \"-\";\n        const hmy = this.$root.hmy.hmy;\n        if (this.unit == \"one\") return hmy.utils.toWei(this.transferRAW, \"one\");\n        return hmy.utils.fromWei(this.transferRAW, \"wei\");\n      } catch (e) {\n        return 0;\n      }\n    }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.div {\n  text-align: center;\n}\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Wallet.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Wallet.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Wallet.vue?vue&type=template&id=6312f052&scoped=true&\"\nimport script from \"./Wallet.vue?vue&type=script&lang=js&\"\nexport * from \"./Wallet.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Wallet.vue?vue&type=style&index=0&id=6312f052&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6312f052\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"home\">\n    <Wallet/>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport Wallet from '@/components/Wallet.vue'\n\nexport default {\n  name: 'WalletHome',\n  components: {\n    Wallet\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Wallet.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Wallet.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Wallet.vue?vue&type=template&id=1c4c7eeb&\"\nimport script from \"./Wallet.vue?vue&type=script&lang=js&\"\nexport * from \"./Wallet.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}